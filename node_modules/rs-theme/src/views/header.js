import React from 'react';
import {Link} from 'react-router-named-routes';
import AppBar from 'material-ui/AppBar';
import MenuItem from 'material-ui/MenuItem';
import DropDownMenu from 'material-ui/DropDownMenu';
import RaisedButton from 'material-ui/RaisedButton';
import {Toolbar, ToolbarGroup, ToolbarSeparator, ToolbarTitle} from 'material-ui/Toolbar';

export const RSHeaderSimple = (props) => (
    <AppBar title={props.title} showMenuIconButton={false}/>
);

export const RSHeaderCrud = React.createClass({
    updateClass(){
        this.forceUpdate();
    },
    render(){
        const props = this.props;
        return (
            <Toolbar>
                <ToolbarGroup firstChild={true}>
                    <DropDownMenu value={props.selectedMenu()}
                                  onChange={(ev, index, val) => {props.onMenuChange(val).then(() => {this.updateClass()})}}>
                        {props.menuItems.map((i, idx) => {
                            return (
                                <MenuItem key={idx} value={i.value} primaryText={i.text}/>
                            )
                        })}
                    </DropDownMenu>
                </ToolbarGroup>
                <ToolbarGroup>
                    <ToolbarTitle text={props.title}/>
                    <ToolbarSeparator />
                    <RaisedButton
                        label={props.buttonText}
                        containerElement={<Link to={props.buttonLink.route} />}
                        primary={true}
                        linkButton={true}/>
                </ToolbarGroup>
            </Toolbar>
        )
    }
});