'use strict';

module.exports = function (params) {
    var app = params.app;
    var io = params.io;

    var defaultHook = function defaultHook() {
        io.emit('localTodo:changed');
    };
    app.models.localTodo.observe('after save', function (ctx, next) {
        defaultHook();
        next();
    });

    app.models.localTodo.observe('after delete', function (ctx, next) {
        defaultHook();
        next();
    });

    app.models.localTodo.observe('persist', function (ctx, next) {
        next();
    });
};