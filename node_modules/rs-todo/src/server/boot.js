module.exports = (params) => {
    const app = params.app;
    const io = params.io;

    const defaultHook = () => {
        io.emit('localTodo:changed');
    }
    app.models.localTodo.observe('after save', (ctx, next) => {
        defaultHook();
        next();
    });

    app.models.localTodo.observe('after delete', (ctx, next) => {
        defaultHook();
        next();
    });

    app.models.localTodo.observe('persist', (ctx, next) => {
        next();
    });
}